<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="SimpleSaber! â€¢ A-Frame" />
    
    <!-- the aframe standard library -->
    <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- adding physics -->
    <script src="https://unpkg.com/aframe-aabb-collider-component@3.1.0/dist/aframe-aabb-collider-component.min.js"></script>
    <script src="https://unpkg.com/aframe-haptics-component/dist/aframe-haptics-component.min.js"></script>
    
    <!-- import custom javascript files -->
    <script type="text/javascript" src="/vrapp/menu/fitness/handworkout/index.js"></script>
    <script type="text/javascript" src="/vrapp/menu/fitness/handworkout/cubeSpawner.js"></script>
    <script type="text/javascript" src="/vrapp/menu/fitness/handworkout/cubeDestroyer.js"></script>
    <script type="text/javascript" src="/vrapp/menu/fitness/handworkout/cubeMovement.js"></script>
    <script type="text/javascript" src="/vrapp/menu/fitness/handworkout/saber.js"></script>
    <script type="text/javascript" src="/vrapp/menu/fitness/handworkout/scoreCounter.js"></script>

    <!-- GUI package-->
    <script src="https://rdub80.github.io/aframe-gui/examples/js/aframe-gui.js" type="text/javascript"></script>
    <script src="https://rdub80.github.io/aframe-gui/examples/js/gui-env.js" type="text/javascript"></script>
  </head>
  <body>
    <a-scene 
             renderer="antialias: true"
             pool__cubes="mixin: cube; size: 10; dynamic: true" 
             scorecounter>
      <a-assets>
        <!-- Sount assets--> 
        <audio id="hitLeft" src="/vrapp/menu/fitness/assets/sounds/beatHit.ogg"></audio>
        <audio id="hitRight" src="/vrapp/menu/fitness/assets/sounds/beatHit.ogg"></audio>
        <!--image assets -->
        <!-- <img id="sechelt" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg"> -->
        <img id="sechelt" crossorigin="anonymous" src="/vrapp/assets/images/scary_space.png">
        <a-mixin id="cube"
                 class="cubes"
                 geometry="primitive: box"
                 position="0 1 -25"
                 scale="0.4 0.4 0.4"
                 cubemovement
                 cubedestroyer
        ></a-mixin>
      </a-assets>
      <a-entity id="score" text="value: Score: 0" position="0 2.2 -1"></a-entity>

      <a-entity id="mouseCursor" cursor="rayOrigin: mouse" raycaster="objects: [gui-interactable]"></a-entity>
      <a-camera look-controls id="playerCamera" log>        
      </a-camera>
      
      <a-sky id="image-360" rotation="0 317 0" radius="30" src="#sechelt"></a-sky>
      <a-entity hand-controls="left"  haptics="events: sabercollided; dur: 1000; force: 0.5"
        aabb-collider="objects: .cubes"
                    saber="red"
                    raycaster="objects: [gui-interactable]">
        </a-entity>
        <a-entity id="hitSound" sound="src: #hitLeft" hitSound></a-entity>
  
        <a-entity hand-controls="right"  haptics="events: sabercollided; dur: 1000; force: 0.5"
            saber="blue"
            aabb-collider="objects: .cubes"
            raycaster="objects: [gui-interactable]">
        </a-entity>
        <a-entity
          id="startPlay"
          position="0 0.5 -5"
          gui-item="type: button;
                    width: 2;
                    height: 0.7;"

          gui-interactable="clickAction: startPlay;"
          gui-button="value: Start;
                     font-family: /vrapp/assets/fonts/Realized.ttf;
                     font-size: 0.25;
                     font-size:0.25;
                     font-color:black;
                     border-radius: 2;
                     active-color: #604287;
                     hover-color: #604287;
                     focus-color: #604287;
                     background-color:orange;
                     opacity: 0.5;"
        >
        </a-entity>
        <a-plane position="0 0 -20" rotation="-90 0 0" width="0" height="60"  material="transparent:true; color: magenta; opacity: 0.5">
      </a-plane>
    </a-scene>
  </body>
</html>
