<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Hello Sabers!</title>
    <meta charset="utf-8">
    <meta name="description" content="SimpleSaber! â€¢ A-Frame" />
    
    <!-- the aframe standard library -->
    <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
    
    <!-- adding physics -->
    <script src="https://unpkg.com/aframe-aabb-collider-component@3.1.0/dist/aframe-aabb-collider-component.min.js"></script>
    <script src="https://unpkg.com/aframe-haptics-component/dist/aframe-haptics-component.min.js"></script>
    
    <!-- import custom javascript files -->
    <script type="text/javascript" src="/vrapp/menu/fitness/handworkout/cubeSpawner.js"></script>
    <script type="text/javascript" src="/vrapp/menu/fitness/handworkout/cubeDestroyer.js"></script>
    <script type="text/javascript" src="/vrapp/menu/fitness/handworkout/cubeMovement.js"></script>
    <script type="text/javascript" src="/vrapp/menu/fitness/handworkout/saber.js"></script>
    <script type="text/javascript" src="/vrapp/menu/fitness/handworkout/scoreCounter.js"></script>
    
  </head>
  <body>
    <a-scene renderer="antialias: true"
             pool__cubes="mixin: cube; size: 10; dynamic: true" 
             cubespawner
             scorecounter>
      <a-assets>
        <!-- Sount assets--> 
        <audio id="hitLeft" src="/vrapp/menu/fitness/assets/sounds/beathit.ogg" preload="auto"></audio>
        <audio id="hitRight" src="/vrapp/menu/fitness/assets/sounds/beathit.ogg" preload="auto"></audio>
        <!--image assets -->
        <!-- <img id="sechelt" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg"> -->
        <img id="sechelt" crossorigin="anonymous" src="/vrapp/menu/fitness/handworkout/assets/images/background-galaxy.png">
        <a-mixin id="cube"
                 class="cubes"
                 geometry="primitive: box"
                 position="0 1 -25"
                 scale="0.4 0.4 0.4"
                 cubemovement
                 cubedestroyer
        ></a-mixin>
      </a-assets>
      <a-entity id="score" text="value: Score: 0" position="0 2.2 -1"></a-entity>

      <a-camera look-controls>        
      </a-camera>
      
      <a-sky id="image-360" rotation="0 180 0" radius="30" src="#sechelt"></a-sky>
      <a-plane position="0 0 -20" rotation="-90 0 0" width="1" height="40" color="#7BC8A4"></a-plane>
      <a-entity hand-controls="left"  haptics="events: sabercollided; dur: 1000; force: 0.5"
      aabb-collider="objects: .cubes"
                  saber="red">
      </a-entity>
      <a-entity id="leftSound" sound="src: #hitLeft"></a-entity>

      <a-entity hand-controls="right"  haptics="events: sabercollided; dur: 1000; force: 0.5"
          saber="blue"
          aabb-collider="objects: .cubes">
      </a-entity>
      <a-entity id="rightSound" sound="src: #hitRight"></a-entity>
      
    </a-scene>
  </body>
</html>
